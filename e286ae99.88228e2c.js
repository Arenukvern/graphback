(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{209:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return b}));var r=t(1),a=t(6),i=(t(0),t(231)),o={title:"CRUD Config",id:"config"},c={id:"version-0.9.x/config",isDocsHomePage:!1,title:"CRUD Config",description:"Graphback takes input model and generates CRUD operations as queries and mutations.",source:"@site/versioned_docs/version-0.9.x/config.md",permalink:"/docs/0.9.x/config",editUrl:"https://github.com/aerogear/graphback/edit/master/website/versioned_docs/version-0.9.x/config.md",version:"0.9.x",sidebar:"version-0.9.x/docs",previous:{title:"Defining your Data Model",permalink:"/docs/0.9.x/datamodel"},next:{title:"Custom Methods",permalink:"/docs/0.9.x/custom"},latestVersionMainDocPermalink:"/docs/gettingstarted"},l=[{value:"Configuration",id:"configuration",children:[]},{value:"Directives",id:"directives",children:[{value:"<code>@disableGen</code>",id:"disablegen",children:[]}]}],p={rightToc:l};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Graphback takes input model and generates CRUD operations as queries and mutations.\nThese include ",Object(i.b)("inlineCode",{parentName:"p"},"create"),", ",Object(i.b)("inlineCode",{parentName:"p"},"update"),", ",Object(i.b)("inlineCode",{parentName:"p"},"delete"),", ",Object(i.b)("inlineCode",{parentName:"p"},"find")," and ",Object(i.b)("inlineCode",{parentName:"p"},"findAll"),". These operations can be generated for each ",Object(i.b)("inlineCode",{parentName:"p"},"type")," in your model.\nFurther Graphback also generates three predefined subscriptions, namely ",Object(i.b)("inlineCode",{parentName:"p"},"new"),", ",Object(i.b)("inlineCode",{parentName:"p"},"updated")," and ",Object(i.b)("inlineCode",{parentName:"p"},"deleted"),".\nWe can use them in clients to receive live updates for every change that is happening on the server."),Object(i.b)("p",null," Graphback allows the user to customize the generation process by using ",Object(i.b)("inlineCode",{parentName:"p"},"configuration")," and ",Object(i.b)("inlineCode",{parentName:"p"},"directives"),"."),Object(i.b)("h2",{id:"configuration"},"Configuration"),Object(i.b)("p",null,"Graphback uses flags to allow user to choose between the CRUD operations and subscriptions. These are present in ",Object(i.b)("inlineCode",{parentName:"p"},"config.json"),", created during ",Object(i.b)("inlineCode",{parentName:"p"},"init"),",\nin the root of your project folder under the ",Object(i.b)("inlineCode",{parentName:"p"},"generation")," key. The default config is"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json"}),'{\n  ...,\n  "generation": {\n    "create": true,\n    "update": true,\n    "findAll": true,\n    "find": true,\n    "delete": false,\n    "subCreate": false,\n    "subUpdate": false,\n    "subDelete": false,\n    "disableGen": false,\n  }\n}\n')),Object(i.b)("p",null,"Changing these flags and performing ",Object(i.b)("inlineCode",{parentName:"p"},"generate"),", regenerates your ",Object(i.b)("inlineCode",{parentName:"p"},"schema")," and ",Object(i.b)("inlineCode",{parentName:"p"},"resolvers")," with provided config."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"Note"),": For subscriptions, the user needs to change the value of the respective operations to ",Object(i.b)("inlineCode",{parentName:"p"},"true"),". For example, changing\n",Object(i.b)("inlineCode",{parentName:"p"},"subDelete")," to ",Object(i.b)("inlineCode",{parentName:"p"},"true")," won't work unless, ",Object(i.b)("inlineCode",{parentName:"p"},"delete")," is ",Object(i.b)("inlineCode",{parentName:"p"},"true"),".")),Object(i.b)("h2",{id:"directives"},"Directives"),Object(i.b)("p",null,"Changing the generator config applies the config to all the types in your schema. Graphback allows you to change these for any single type using directives. All the config flags are available as directives"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@create")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@update")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@delete")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@find")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@findAll")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@subCreate")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@subUpdate")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@subDelete")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"@disableGen"),".")),Object(i.b)("p",null,"User can use these directives to have more control over individual elements. For example,"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"type Note @delete {\n  ...\n}\n")),Object(i.b)("p",null,"will create the ",Object(i.b)("inlineCode",{parentName:"p"},"delete")," mutation for ",Object(i.b)("inlineCode",{parentName:"p"},"Note")," type only."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"Note"),": Directives override the configuration flags to ",Object(i.b)("inlineCode",{parentName:"p"},"true"),", so to enable operation through directive for a single ",Object(i.b)("inlineCode",{parentName:"p"},"type"),",\nthe default configuration should be ",Object(i.b)("inlineCode",{parentName:"p"},"false"),". Otherwise, it will affect every ",Object(i.b)("inlineCode",{parentName:"p"},"type"),", using flags from the configuration.")),Object(i.b)("h3",{id:"disablegen"},Object(i.b)("inlineCode",{parentName:"h3"},"@disableGen")),Object(i.b)("p",null,"User can use this directive to disable CRUD operation generation for that type. Applying this directive will not create any\n",Object(i.b)("inlineCode",{parentName:"p"},"Query"),"/",Object(i.b)("inlineCode",{parentName:"p"},"Mutation"),"/",Object(i.b)("inlineCode",{parentName:"p"},"Subscription")," for that type."))}b.isMDXComponent=!0},231:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=a.a.createContext({}),b=function(e){var n=a.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},s=function(e){var n=b(e.components);return a.a.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=b(t),u=r,m=s["".concat(o,".").concat(u)]||s[u]||d[u]||i;return t?a.a.createElement(m,c({ref:n},p,{components:t})):a.a.createElement(m,c({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=u;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var p=2;p<i;p++)o[p]=t[p];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);