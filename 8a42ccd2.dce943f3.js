/*! For license information please see 8a42ccd2.dce943f3.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[372],{426:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(766),n(765)),i={id:"keycloak",title:"Authentication with Keycloak",sidebar_label:"Keycloak"},c={unversionedId:"authentication/keycloak",id:"authentication/keycloak",isDocsHomePage:!1,title:"Authentication with Keycloak",description:"Graphback Keycloak Authz",source:"@site/../docs/authentication/keycloak.md",permalink:"/docs/next/authentication/keycloak",editUrl:"https://github.com/aerogear/graphback/edit/master/website/../docs/authentication/keycloak.md",version:"next",sidebar_label:"Keycloak",sidebar:"docs",previous:{title:"Authentication and authorization for Graphback",permalink:"/docs/next/authentication/intro"},next:{title:"KeycloakCrudService",permalink:"/docs/next/api/graphback-keycloak-authz/classes/_keycloakcrudservice_.keycloakcrudservice"}},l=[{value:"Graphback Keycloak Authz",id:"graphback-keycloak-authz",children:[]},{value:"Getting Started",id:"getting-started",children:[]},{value:"Relationships Autorization",id:"relationships-autorization",children:[]},{value:"Field Updates Authorization",id:"field-updates-authorization",children:[]},{value:"Query Field-Level authorization",id:"query-field-level-authorization",children:[]},{value:"Dynamic Filtering",id:"dynamic-filtering",children:[]},{value:"Your own Resolvers",id:"your-own-resolvers",children:[]},{value:"Using authorization with Graphback",id:"using-authorization-with-graphback",children:[]},{value:"Running example",id:"running-example",children:[]}],s={rightToc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"graphback-keycloak-authz"},"Graphback Keycloak Authz"),Object(o.b)("p",null,"Graphback Keycloak Authz enables ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.keycloak.org/"}),"Keycloak")," integration in ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://graphback.dev"}),"Graphback")," based applications. This enables you to declaratively add authorization capabilities like role based access on top of the CRUD model that is used within Graphback."),Object(o.b)("p",null,"This package is designed to work with ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/keycloak-connect"}),Object(o.b)("inlineCode",{parentName:"a"},"keycloak-connect"))," and ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/keycloak-connect-graphql"}),Object(o.b)("inlineCode",{parentName:"a"},"keycloak-connect-graphql")),". ",Object(o.b)("inlineCode",{parentName:"p"},"keycloak-connect")," is the official Keycloak middleware for Express applications. ",Object(o.b)("inlineCode",{parentName:"p"},"keycloak-connect-graphql")," provides deeper Keycloak integration into GraphQL servers."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This package is an early alpha and not officially supported by Graphback"))),Object(o.b)("h2",{id:"getting-started"},"Getting Started"),Object(o.b)("p",null,"This module requires you to install the following dependencies into your application."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"npm install keycloak-connect\nnpm install keycloak-connect-graphql\n")),Object(o.b)("p",null,"Then follow the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/aerogear/keycloak-connect-graphql#getting-started"}),"Getting started instructions for ",Object(o.b)("inlineCode",{parentName:"a"},"keycloak-connect-graphql"))),Object(o.b)("p",null,"Once the getting started instructions are covered, you must create a configuration that defines the authorization rules for each model within your Graphback application."),Object(o.b)("p",null,"Here is an example configuration."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const authConfig = {\n  Task: {\n    create: {},\n    read: {},\n    update: { roles: ['admin'] },\n    delete: { roles: ['admin'] },\n    subCreate: {},\n    subUpdate: { roles: ['admin'] },\n    subDelete: { roles: ['admin'] },\n  },\n  Report: {\n    create: { roles: ['admin'] },\n    update: { roles: ['admin'] },\n    delete: { roles: ['admin'] },\n  },\n};\n")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("inlineCode",{parentName:"p"},"CrudServiceAuthConfig")," interface defines all possible keys that each model can define.\nWhen key is not defined engine will assume that no roles are required."))),Object(o.b)("p",null,"With this configuration the following rules are in place."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"All users can create and read ",Object(o.b)("inlineCode",{parentName:"li"},"Task")," types but only admins can update and delete them."),Object(o.b)("li",{parentName:"ul"},"Admin users can create, update and delete ",Object(o.b)("inlineCode",{parentName:"li"},"Report")," types, and all users can read them.")),Object(o.b)("h2",{id:"relationships-autorization"},"Relationships Autorization"),Object(o.b)("p",null,"Developers can also add authorization rules on sepecific relationships for data fetching purposes.\nRelationship rules will be added on top of the existing rules that are defined for the individual objects."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const authConfig = {\n  Task: {\n    relations: {\n        taskUsers: { roles: ['admin'] }\n        allTasksComments: { roles: ['commenter'] }\n    },\n\n  },\n")),Object(o.b)("p",null,"With this configuration the following rules are in place."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Tasks ",Object(o.b)("inlineCode",{parentName:"li"},"taskUsers")," field has ",Object(o.b)("inlineCode",{parentName:"li"},"admin")," role applied. Fetching User object will require ",Object(o.b)("inlineCode",{parentName:"li"},"admin")," role for any user field fetched"),Object(o.b)("li",{parentName:"ul"},"Tasks ",Object(o.b)("inlineCode",{parentName:"li"},"allTasksComments")," field has ",Object(o.b)("inlineCode",{parentName:"li"},"commenter")," role applied. Fetching ",Object(o.b)("inlineCode",{parentName:"li"},"Comment")," object will require ",Object(o.b)("inlineCode",{parentName:"li"},"commenter")," role for any user field fetched")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Due to limitations of the Graphback ",Object(o.b)("inlineCode",{parentName:"p"},"relations")," authorization works only on ",Object(o.b)("inlineCode",{parentName:"p"},"OneToMany")," relationships.\n",Object(o.b)("inlineCode",{parentName:"p"},"OneToOne")," relationships will utilize ",Object(o.b)("inlineCode",{parentName:"p"},"read")," config of the relationship target."))),Object(o.b)("h2",{id:"field-updates-authorization"},"Field Updates Authorization"),Object(o.b)("p",null,"Developers can prevent from unauthorized updates of the certain fields for ",Object(o.b)("inlineCode",{parentName:"p"},"create")," and ",Object(o.b)("inlineCode",{parentName:"p"},"update")," operations.\n",Object(o.b)("inlineCode",{parentName:"p"},"updateFields")," configuration can be used to restrict what fields can be updated."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const authConfig = {\n  Task: {\n    updateFields: {\n       secret: { roles: ['admin'] }\n    },\n  },\n")),Object(o.b)("p",null,"With this configuration the following rules are in place."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Tasks ",Object(o.b)("inlineCode",{parentName:"li"},"secret")," field has ",Object(o.b)("inlineCode",{parentName:"li"},"admin")," role applied. ",Object(o.b)("inlineCode",{parentName:"li"},"createTask")," and ",Object(o.b)("inlineCode",{parentName:"li"},"updateTask")," will require ",Object(o.b)("inlineCode",{parentName:"li"},"admin")," role if\nsecret field was provided as part of the input type.")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"When designing your schema you need to consider impact of the authorization rules on your types."))),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Current implementation doesn't allow developers to handle ",Object(o.b)("inlineCode",{parentName:"p"},"create")," and ",Object(o.b)("inlineCode",{parentName:"p"},"update")," operations separately.\nIf you would like to handle those separately please consider extending ",Object(o.b)("inlineCode",{parentName:"p"},"KeycloakCRUDService"),"."))),Object(o.b)("h2",{id:"query-field-level-authorization"},"Query Field-Level authorization"),Object(o.b)("p",null,"Developers can prevent from unautorized queries of the certain fields for ",Object(o.b)("inlineCode",{parentName:"p"},"find")," and ",Object(o.b)("inlineCode",{parentName:"p"},"get")," operations.\n",Object(o.b)("inlineCode",{parentName:"p"},"returnFields")," configuration can be used to restrict what fields can be fetched."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const authConfig = {\n  Task: {\n    returnFields: {\n       secretReturnField: { roles: ['admin'] }\n    },\n  }\n")),Object(o.b)("p",null,"With this configuration the following rules are in place."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Tasks ",Object(o.b)("inlineCode",{parentName:"li"},"secretReturnField")," field has ",Object(o.b)("inlineCode",{parentName:"li"},"admin")," role applied. ",Object(o.b)("inlineCode",{parentName:"li"},"findTask")," operation will fail with\nunauthorized error if non admin user requests ",Object(o.b)("inlineCode",{parentName:"li"},"secretReturnField"))),Object(o.b)("h2",{id:"dynamic-filtering"},"Dynamic Filtering"),Object(o.b)("p",null,"In many ocassions developers want to restrict certain resources only for their respective owners.\nSpecifying user ID on the client is not secure as it can be altered to request resource that user\nis not authorized to see. Solution for this problem is to apply specific filtering rules on the\nserver based on the currently logged user information:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Keycloak-authz")," library allows to provide dynamic filter for each individual model object."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const authConfig = {\n  Task: {\n    filterUsingAuthInfo: myAuthFilter,\n  },\n};\n\n/**\n * @param filter - filter object that can be extended to add extra query\n * @param profileInfo - profile information hidden in token (req.kauth.grant.access_token.content)\n * @return filter - new filter field for your specific database\n */\nconst myAuthFilter = (filter: any, profileInfo: any) => {\n  filter.ownerEmail = {\n    profileInfo: {\n      eq: profileInfo.email\n    }\n  };\n\n  return filter;\n};\n")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Dynamic filtering is an ",Object(o.b)("strong",{parentName:"p"},"experimental")," feature due to lack of strong typings on ",Object(o.b)("inlineCode",{parentName:"p"},"profileInfo")," and ",Object(o.b)("inlineCode",{parentName:"p"},"filter"),".\nPlease review Graphback ",Object(o.b)("inlineCode",{parentName:"p"},"QueryFilter")," definitions and Keycloak profile information objects before building filters."))),Object(o.b)("h2",{id:"your-own-resolvers"},"Your own Resolvers"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"keycloak-authz")," package provides out of the box handlers for the Graphback generated resolvers.\nDevelopers can utilize authorization in their own resolvers and custom code.\nFor more information please refer to the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/aerogear/keycloak-connect-graphql"}),"https://github.com/aerogear/keycloak-connect-graphql")," library documentation"),Object(o.b)("h2",{id:"using-authorization-with-graphback"},"Using authorization with Graphback"),Object(o.b)("p",null,"During server initialization, use the ",Object(o.b)("inlineCode",{parentName:"p"},"createKeycloakCRUDService")," function to initialize the KeycloakCrudService instances for each model."),Object(o.b)("p",null,"The following example shows just the necessary parts to set up the runtime services in Graphback."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"import { ApolloServer } from 'apollo-server-express'\nimport { createKeycloakCRUDService } from '@graphback/keycloak-authz'\nimport { KnexDbDataProvider } from '@graphback/runtime-knex'\nimport { PubSub } from 'graphql-subscriptions'\nimport * as Knex from 'knex'\nimport { buildGraphbackAPI, createCRUDService } from 'graphback'\n\n// the application model\nconst model = `\n\"\"\"\n@model\n\"\"\"\ntype Task {\n  id: ID!\n  title: String!\n  description: String!\n}`\n\n// the auth rules for the application\nconst authConfig = {\n  Task: {\n    create: {},\n    read: {},\n    update: { roles: [\"admin\"] },\n    delete: { roles: [\"admin\"] }\n  }\n}\n\n// set up the Knex database client\nconst db = Knex({...})\n\n// standard Graphback runtime setup\nconst pubSub = new PubSub()\n\nconst keycloakService = createKeycloakCRUDService(authConfig, createCRUDService({\n  pubSub: new PubSub()\n}));\nconst { typeDefs, resolvers, contextCreator } = buildGraphbackAPI(modelDefs, {\n  serviceCreator: keycloakService,\n  dataProviderCreator: createKnexDbProvider(db)\n});\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context: (context) => {\n    return {\n      ...contextCreator(context),\n      kauth: new KeycloakContext({ req: context.req })\n    }\n  }\n})\n")),Object(o.b)("p",null,"The above example shows runtime set up using the KnexDbDataProvider, but other data providers such as the ",Object(o.b)("inlineCode",{parentName:"p"},"MongoDBDataProvider")," can also be passed."),Object(o.b)("h2",{id:"running-example"},"Running example"),Object(o.b)("p",null,"If you wish to use authorization mechanism you can try it on ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/aerogear/datasync-starter"}),"DataSync starter")," project"))}u.isMDXComponent=!0},765:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,f=p["".concat(i,".").concat(d)]||p[d]||b[d]||o;return n?r.a.createElement(f,c(c({ref:t},s),{},{components:n})):r.a.createElement(f,c({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},766:function(e,t,n){"use strict";e.exports=n(767)},767:function(e,t,n){"use strict";var a=n(768),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,b=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||j}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||j}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(O(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var N=k.prototype=new g;N.constructor=k,a(N,v.prototype),N.isPureReactComponent=!0;var w={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function z(e,t,n){var a,r={},i=null,c=null;if(null!=t)for(a in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,a)&&!x.hasOwnProperty(a)&&(r[a]=t[a]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===r[a]&&(r[a]=l[a]);return{$$typeof:o,type:e,key:i,ref:c,props:r,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,R=[];function D(e,t,n,a){if(R.length){var r=R.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function T(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function A(e,t,n){return null==e?0:function e(t,n,a,r){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var l=!1;if(null===t)l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case i:l=!0}}if(l)return a(r,t,""===n?"."+_(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var u=n+_(c=t[s],s);l+=e(c,u,a,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=h&&t[h]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),s=0;!(c=t.next()).done;)l+=e(c=c.value,u=n+_(c,s++),a,r);else if("object"===c)throw a=""+t,Error(O(31,"[object Object]"===a?"object with keys {"+Object.keys(t).join(", ")+"}":a,""));return l}(e,"",t,n)}function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function E(e,t){e.func.call(e.context,t,e.count++)}function q(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?K(e,a,n,(function(e){return e})):null!=e&&(S(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),a.push(e))}function K(e,t,n,a,r){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),A(e,q,t=D(t,o,a,r)),T(t)}var F={current:null};function M(){var e=F.current;if(null===e)throw Error(O(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:function(e,t,n){if(null==e)return e;var a=[];return K(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;A(e,E,t=D(null,null,t,n)),T(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return K(e,t,null,(function(e){return e})),t},only:function(e){if(!S(e))throw Error(O(143));return e}},t.Component=v,t.Fragment=c,t.Profiler=s,t.PureComponent=k,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(O(267,e));var r=a({},e.props),i=e.key,c=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)C.call(t,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var p=0;p<u;p++)s[p]=arguments[p+2];r.children=s}return{$$typeof:o,type:e.type,key:i,ref:c,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=z,t.createFactory=function(e){var t=z.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:b,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="16.13.1"},768:function(e,t,n){"use strict";var a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,c,l=i(e),s=1;s<arguments.length;s++){for(var u in n=Object(arguments[s]))r.call(n,u)&&(l[u]=n[u]);if(a){c=a(n);for(var p=0;p<c.length;p++)o.call(n,c[p])&&(l[c[p]]=n[c[p]])}}return l}}}]);