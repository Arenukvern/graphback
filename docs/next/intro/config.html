<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Config · Graphback</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Graphback can generate source code, migrate your database or start fully functional server basing just on your GraphQL Model."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Config · Graphback"/><meta property="og:type" content="website"/><meta property="og:url" content="https://graphback.dev/"/><meta property="og:description" content="Graphback can generate source code, migrate your database or start fully functional server basing just on your GraphQL Model."/><meta property="og:image" content="https://graphback.dev/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://graphback.dev/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://graphback.dev/blog/atom.xml" title="Graphback Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://graphback.dev/blog/feed.xml" title="Graphback Blog RSS Feed"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="Graphback"/><h2 class="headerTitleWithLogo">Graphback</h2></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/next/gettingstarted" target="_self">Documentation</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting Started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/gettingstarted">What is Graphback</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/quickstart">Create app</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/concepts">Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/datamodel">Data Model</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/next/intro/config">Config</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Use Cases<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/intro/usecases">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/template">Create App from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/existingproject">Add to Project</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/serverless">Serverless</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CRUD<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/crud/crudspec">CRUD Specification</a></li><li class="navListItem"><a class="navItem" href="/docs/next/crud/crudruntime">CRUD Abstraction</a></li><li class="navListItem"><a class="navItem" href="/docs/next/crud/relationships">Model Relationships</a></li><li class="navListItem"><a class="navItem" href="/docs/next/crud/crudmapping">Mapping your data</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Generator Plugins<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/crud-schema">CRUD Schema</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/crud-resolvers">CRUD Resolvers</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/crud-client">CRUD Client Queries</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/customplugin">Custom plugin</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Database<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/db/dbintroduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/next/db/dbmigrations">Database Schema Migrations</a></li><li class="navListItem"><a class="navItem" href="/docs/next/db/datasources">Data Sources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Migrating to Graphback<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/migrations/intromigrations">Migrate To Graphback</a></li><li class="navListItem"><a class="navItem" href="/docs/next/migrations/openapi">OpenAPI migrations</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/commands">CLI commands</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Releases<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/releases">Releases</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Config</h1></header><article><div><span><p>Graphback can generate source code, migrate your database or start fully functional server basing just on your GraphQL Model.
Graphback Config allows you to control and configure all those use cases for your own needs.</p>
<p>The Core of Graphback will take your GraphQL Schema types annotated by <code>model</code> and perform various operations on them like:</p>
<ul>
<li>Code generation</li>
<li>DB migrations</li>
<li>InMemory GraphQL API.</li>
</ul>
<p>All those operations could be controlled by <code>crud</code> flags that enable or disable various data access methods in plugins and runtime.
These include <code>create</code>, <code>update</code>, <code>delete</code>, <code>find</code> and <code>findAll</code>.</p>
<p>Graphback allows the user to customize all process by using open configuration standard <code>graphql-config</code>:
<a href="https://graphql-config.com/docs/introduction">https://graphql-config.com/docs/introduction</a></p>
<h2><a class="anchor" aria-hidden="true" id="configuration"></a><a href="#configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h2>
<p>Each project needs to have .graphqlrc.yml file available in the root folder.
This file is also automatically generated when using <code>graphback config</code> command.</p>
<p>Typical configuration looks as follows</p>
<pre><code class="hljs css language-yaml"><span class="hljs-comment">## Schema is not used by graphback but it is required by graphql-config and can be used by other extensions</span>
<span class="hljs-comment">## Usually it should match the Graphback schema generator plugin</span>
<span class="hljs-attr">schema:</span> <span class="hljs-string">./server/src/schema/*.graphql</span>
<span class="hljs-comment">## Documents are not used by graphback but it is required by graphql-config and can be used by other extensions</span>
<span class="hljs-comment">## Usually it should match the Graphback client generator plugin</span>
<span class="hljs-attr">documents:</span> <span class="hljs-string">./client/src/graphql/**/*.graphql</span>
<span class="hljs-attr">extensions:</span>
  <span class="hljs-comment"># Graphback configuration</span>
  <span class="hljs-attr">graphback:</span>
    <span class="hljs-comment">##  Location to file that is contains GraphQL schema that will be processed by Graphback</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">./model</span>
    <span class="hljs-comment">## Global flags for CRUD methods that will be used in plugins</span>
    <span class="hljs-attr">crud:</span>
      <span class="hljs-attr">create:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">update:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">findAll:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">find:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">delete:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">subCreate:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">subUpdate:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">subDelete:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment">## List of the codegen plugins </span>
    <span class="hljs-attr">plugins:</span>
        <span class="hljs-attr">graphback-schema:</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">graphql</span>
          <span class="hljs-attr">outputPath:</span> <span class="hljs-string">./server/src/schema</span>
        <span class="hljs-attr">graphback-client:</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">'graphql'</span>
          <span class="hljs-attr">outputPath:</span> <span class="hljs-string">./client/src/graphql</span>
        <span class="hljs-attr">graphback-resolvers:</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">ts</span>
          <span class="hljs-attr">outputPath:</span> <span class="hljs-string">./server/src/resolvers</span>
  <span class="hljs-comment">## graphql-migration config that can be also used in application</span>
  <span class="hljs-comment">## Please do not connect it to shared database as Graphback will automatically </span>
  <span class="hljs-comment">## execute dlls statements that can affect other applications.</span>
  <span class="hljs-attr">dbmigrations:</span>
    <span class="hljs-comment">## See knex.js for db specific config format</span>
    <span class="hljs-attr">client:</span> <span class="hljs-string">pg</span>
    <span class="hljs-attr">connection:</span>
      <span class="hljs-attr">user:</span> <span class="hljs-string">postgresql</span>
      <span class="hljs-attr">password:</span> <span class="hljs-string">postgres</span>
      <span class="hljs-attr">database:</span> <span class="hljs-string">users</span>
      <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">55432</span>
        

</code></pre>
<p>Changing <code>crud</code> flags and performing <code>graphback generate</code>, regenerates your <code>schema</code> and <code>resolvers</code> with provided config.</p>
<blockquote>
<p><strong>Note</strong>: For subscriptions, the user needs to change the value of the respective operations to <code>true</code>. For example, changing
<code>subDelete</code> to <code>true</code> won't work unless, <code>delete</code> is <code>true</code>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="changing-crud-configuration-for-the-type"></a><a href="#changing-crud-configuration-for-the-type" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changing CRUD configuration for the type</h2>
<p>Generator config applies the config to all the types in your schema.
Graphback allows you to change these for any single type using <a href="https://github.com/aerogear/graphql-metadata"><code>graphql-metadata</code></a>.</p>
<pre><code class="hljs css language-graphql"><span class="hljs-string">""</span><span class="hljs-string">"
@model
@crud.create: false
"</span><span class="hljs-string">""</span><span class="hljs-built_in">
type User </span>{
  <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>
}
</code></pre>
<p>or to enable it</p>
<pre><code class="hljs css language-graphql"><span class="hljs-string">""</span><span class="hljs-string">"
@crud.create
"</span><span class="hljs-string">""</span><span class="hljs-built_in">
type User </span>{
  <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="available-options"></a><a href="#available-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Available Options</h4>
<p>All config options can be replicated by specifying the <code>@crud.</code> prefix</p>
<pre><code class="hljs"><span class="hljs-variable">@crud</span>.<span class="hljs-attribute">create</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">update</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">delete</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">find</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">findAll</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">subCreate</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">subUpdate</span>: true
<span class="hljs-variable">@crud</span>.<span class="hljs-attribute">subDelete</span>: true
</code></pre>
<p>You can use these annotations to have more control over individual elements. For example:</p>
<pre><code class="hljs"><span class="hljs-string">""</span><span class="hljs-string">"
@crud.delete
"</span><span class="hljs-string">""</span><span class="hljs-built_in">
type Note </span>{
  <span class="hljs-built_in">..</span>.
}
</code></pre>
<p>will create the <code>delete</code> mutation for <code>Note</code> type.</p>
<blockquote>
<p><strong>Note</strong>: Annotations override the configuration flags to <code>true</code></p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/next/intro/datamodel"><span class="arrow-prev">← </span><span>Data Model</span></a><a class="docs-next button" href="/docs/next/intro/usecases"><span>Introduction</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#configuration">Configuration</a></li><li><a href="#changing-crud-configuration-for-the-type">Changing CRUD configuration for the type</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2020 Graphback Contributors</section></footer></div></body></html>